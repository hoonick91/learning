TDD 발표준비

> 일단 저번시간에 TDD에 대한 설명과 장/단점을 설명해주셨기 때문에 구체적으로 저는 어떻게 TDD를 구현할것인가에 대해 설명드리도록 하겠습니다. 먼저 목차는 TDD의 핵심, TDD를 활용한 암호 검사기 개발을 설명드리겠습니다.

목차

1. TDD의 핵심

   - 산출해야할 결과를 명확하게 적어 놓고, 그 결과를 내는 과정을 적는다. 

     - 이것들은 요구사항을 나타낸다. 이 요구사항을 문서뿐 아니라 code 및 결과로 적는것이다. 
     - **<u>은연중에 암시적으로 해야하는 것을 명확하게 적는다.</u>** (이름에 숫자가 들어가면 안된다, 나이에 문자가 들어가면 안된다, 생년월일은 현재시간보다 클 수 없다.)

     [그림 2.11]

> 먼저 TDD를 하면서 꼭 유념해야할 핵심은 산출해야할 결과를 명확하게 적고 그 결과를 내는 과정을 적는 것 입니다. 적은 것들은 프로그램의 요구사항이 됩니다. 요구사항은 물론 문서에도 있지만, 문서뿐 아니라 Code와 결과로 적는 것입니다. 이때 적는 것들은 핵심 기능 뿐 아니라 개발하면서 개발자가 은연중에 암시적으로 해야하는 것들 입니다. 이름에 숫자가 들어가면 안된다는지, 나이에 문자가 들어가면 안된다는지 같은 예시가 있는데, 이는 실제로 암호검사기 개발과정을 보면서 설명드리겠습니다.

1. TDD로 암호 검사기 개발

   1. 요구사항을 파악한다.
      - 암호검사기 : 문자열을 검사해서 암호규칙을 준수하는지에 따라 강함, 약함, 보통으로 구분한다.
      - 조건
        1. 길이가 8자이상
        2. 0~9사이의 숫자
        3. 대문자 포함
        4. 3가지 규칙 충족 시 '강함'
        5. 2가지 규칙 충족 시 '보통'
        6. 1개 이하의 규칙 충족 시 '약함'

   > 암호검사기를 개발하기전에 암호검사기는 저희가 회원가입같은거 할때, 적당한 암호를 입력했는지 검사하고, 너무 쉬운 암호면 어려운 암호입력하라고 하는 암호검사기 입니다.  암호검사기 예제는 테스트해야할 항목이 많기때문에 TDD의 과정을 보여드리기 좋은 예제 이다.
   >
   > 이 암호검사기의 조건은 8가지가 있습니다. 길이, 숫자 ,대문자 포함해야하고, 만족하는 규칙의 숫자에 따라 강함, 보통 약함을 나타냅니다. 그럼 본격적인 개발을 시작해보겠습니다.

   

   1. 산출해야할 결과를 명확하게 적는다. (테스트 코드 작성)

      - 모든 규칙을 충족하는경우 '강함'을 반환한다.
      - Test코드에 작성할 기능을 명확하게 기록해 놓는다.

      > 첫번째 테스트에서는 가장 쉽거나 예외적인 경우를 테스트 해야하는데, 저는 3가지 모든 규칙을 충족했을 때를 작성해보겠습니다.

      

   2. 컴파일 에러를 없앤다.

      > 동작시킬수 있는 코드가 아무것도 없기떄문에 먼저 컴파일 에러를 없애야 합니다.

      

   3. 테스트 메서드를 통과시킬 만큼의 코드를 작성한다.

      > 테스트를 통과시킬 수 있는 코드를 작성합니다.  먼저 test결과와 비교할 수 있는, enum을 만들고, 실제로 암호를 검사할 PasswordStrengthMeter를 작성합니다. 그리고 test를 실행시킵니다. 성공하면서 첫번째 테스트 case 작성이  끝났습니다.

      

   4. - 

   5. 길이만 8글자 미만이고, 나머지 조건은 충족하는 경우

      > 두번째 테스트에서는 길이만 8글자 미만이고, 나머지 조건은 충족하는 경우 즉, 2가지 경우를 만족하는 경우입니다. 이경우에는 '보통'이라는 결과가 나옵니다. 방금위에서 했던 순서처럼 컴파일 에러를 해결하고, 메서드가 동작할 수 있는 코드를 작성합니다.

      

   6. 숫자를 포함하지 않고, 나머지 조건은 충족하는 경우

      > 테스트코드를 작성하고, 컴파일에러를 수정하고, Test코드가 성공할 수 있는 코드를 작성합니다. 

   

   7. (Optional) Refactoring한다.

      - Test 코드를 다시 실행 시킨다.

      > 이제 여기서 PasswordStrengthMeter의 로직이 길어지므로 메소드 추출을해서 가독성을 개선합니다. 코드를 수정했으니 기존 test코드를 다시 실행시켜야 합니다.

   

   

   

2. 테스트 주도 개발로 실제 업무시 개발

   - 주의해야 하는 parameter 날짜 라던지 예외처리





어떻게 TDD를 할 수 있을까?

- Test code를 작성하는 방법
- TDD 적용 방법

"이러이러한 기능을 만들어라"

1. test를 자동으로 돌아가는 code를 만든다.
2. Unit test 코드가 올바르게 작동을 하는지 보는 것
   - 내가 만들려는게 어떤결과를 내는지, 코드가 제대로 컴파일 되고 실행되기만 하면된다.
   - 내가 뭘만들려는지 구체적으로 표현할 수 있으면 된다.
     - 입력, 출력을 각 구분한다.
     - 1+1 = 2 unit test에서 1더하기1을 어떻게 표현할 것인지도 중요하다.
   - 어떤것을 해야할지 명확하게 써놓는다. 권한 처리, 예외처리
   - 이렇게 하면, 보안 문제, 예기치 않은 문제들을 잡을때 버그를 재현하는 test를 만들고 test한다.



1. TDD의 방식 
   - 계산기
2. 실무에 적용

- 기록이 남는다.

  

- 





1. TDD의 정의

2. 언제 필요할까

   처음해보는 프로그램 주제
   나에 대한 불확실성이 높은 경우
   고객의 요구조건이 바뀔 수 있는 프로젝트
   외부적인 불확실성이 높은 경우
   개발하는 중에 코드를 많이 바꿔야 된다고 생각하는 경우
   내가 개발하고 나서 이 코드를 누가 유지보수할지 모르는 경우

   

   TDD는 어렵고 개발시간이 증가한다. 하지만 이런 단점을 가지고도 얻는 2가지

   1. Record 기록
   2. 

3. TDD개발 방법의 예시

4. 실무에서 TDD의 사용법

   - service의 같은 경우 부분만 테스트 할 수 있다. 

   - Controller test
   - Service test
   - DB test (mockito)

5. TDD와 테스트 자동화

관련 도서소개

- 켄트백 - 철학적 이론적
- 최범균 - 실무적
- 테스트주도개발 객체지향 - 중구난방

참조

https://gmlwjd9405.github.io/2018/06/03/agile-tdd.html

https://www.youtube.com/watch?v=Bogx86KKp5o

[테스트 주도 개발 시작하기 : Test-Driven Development](http://www.yes24.com/Product/Goods/89145195?Acode=101)