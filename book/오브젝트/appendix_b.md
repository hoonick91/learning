# APPENDIX 타입 계층의 구현

타입과 타입 계층을 구현할 수 있는 다양한 방법들을 살펴보자



### 클래스를 이용한 타입 계층 구현

슈퍼클래스와 퍼블릭 인터페이스는 동일하지만 다른 방식으로 구현해야 하는 클래스가 필요하면 슈퍼클래스를 상속받으면 된다. 하지만 상속은 부모와 자식간의 구현이 강하게 결합되므로 피해야 한다. 그래서 가급적 추상클래스를 상속받거나, 인터페이스스 구현하는 방법을 사용해야 한다.



### 인터페이스를 이용한 타입 계층의 구현

인터페이스를 이용하면 상속에 의한 높은 결합도, 다중상속의 구현 제약을 해결하면서 타입계층을 구현할 수 있다.

1. 상속으로 인한 결합도 문제를 피한다.
2. 다중 상속이라는 구현제약도 해결할 수 있다.

<<예시>>



### 추상 클래스를 이용한 타입 계층 구현

부모, 자식 클래스 모두 추상메소드에 의존함으로써(DIP 응용) 유연함과 동시에 변화에 안정적인 설계를 할 수 있다.



### 추상 클래스와 인터페이스 결합하기

인터페이스로만 중복코드를 제거하기 어렵다. (java 8이전 기준) 인터페이스를 구현하는 추상클래스를 만들고, 이를 상속받아 타입을 정의하면 위의 문제를 해결할 수 있다.(? 상속의 목적은 중복코드제거가 아닌데... 왜??)



### 덕 타이핑 사용하기

행동을 통해 타입을 결정하는 것은 덕타이핑이라고 한다. java에서는 지원하지 않는다. java는 interface로 선언후 구현해야 타입이 묶인다.



### 믹스인과 타입계층

java에서 믹스인과 비슷한 디폴트 메서드(인터페이스에만 사용)를 쓸 수 있는데, 이는 디폴트 메서드에 사용되는 메서드를 public으로 무조건 구현해야 한다. 이는 캡슐화를 약화시킨다.