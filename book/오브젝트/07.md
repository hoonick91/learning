# 객체 분해

> 한번에 기억하여 처리할 수 있는 것은 사람에게 한계까 있다. 이를 해결하기 위해 분해와 추상화를 사용



## 01 프로시저 추상화와 데이터 추상화

> 프로시저 추상화 : 무엇을 해야할 지, 데이터 추상화: 무엇을 알아야 하는지

:pushpin: ​객체지향이란? 데이터 중심으로 프로시저, 데이터 추상화를 통합한 객체를 이용해 시스템을 분해하는 방식



데이터 추상화

1. 데이터 중심으로 타입을 추상화(추상 데이터 타입)
2. 데이터 중심으로 프로시저 추상화(객체 지향)



## 02 프로시저 추상화와 기능 분해



### 메인 함수로서의 시스템

> 시스템은 분해할 수 있는 작업으로 구성되어 있고, 이를 아래로 분해하는 방식이 하향식 접근법이다.

기능을 중심으로한 시스템 분해 방식을 알고리즘 분해 혹은 기능 분해라고 한다. 이에 관점에서 추상화의 단위는 프로시저이며, 시스템은 프로시저 단위로 분해된다.

```
프로시저(명령)와 함수(query)의 차이점

- 내부 데이터 수정하고, return값이 없다.
- 함수(query) 내부 데이터를 수정하지않고, return값이 있다.
```



### 급여 관리 시스템

급여 관리 시스템을 큰 기능에서 세분화된 개념으로 정의한다.(어떤식으로 정의???)

메인함수: 직원의 급여를 계산한다.

- 사용자로~
- 급여를 계산
- 양식에 맞게 결과 출력





### 급여 관리 시스템 구현

하향식 기능 분해는 체계적이지만, 불규칙하고 체계적이지 않은 인간과 만나면 문제가 발생한다.(어떤 문제가 발생??)



### 하향식 기능 분해의 문제점 

위의 방법은 변경에 취약하다는 문제점을 갖는다. (어느 지점에서??)

- 하향식 기능 분해는 처음에 메인함수라는 하나의 기능부터 시작한다. 하지만 시스템은 하나의 메인기능이라는것을 가지고 있지 않다. 
- 너무 이른 시기에 실행 순서를 고정시키기 때문에 유연성과 재사용성이 떨어진다.
- 데이터 형식이 변경될 경우 타고타고타고 내려가서 어마어마한 파급효과를 가져온다.





#### 하나의 메인 함수라는 비현실적인 아이디어

현재 시스템에서는 메인 함수로 모든 기능을 묶기엔 이상하다.

- 대부분의 시스템에서 하나의 메인 기능이란 개념은 존재하지 않는다.



#### 메인 함수의 빈번한 설계

메인 이라고 생각했던, 기능이 새롭게 추가된다면 기존 메인 함수를 수정해야 한다.

- 회사에 속한 모든 직원들의 기본급의 총합을 구하는 기능을 추가해 달라는 요구
- 가장 상위라고 생각했던 main함수를 수정해야 하는 경우도 있다.



#### 비즈니스 로직과 사용자 인터페이스의 결합

초기단계에서 입/출력 양식을 함께 고민하게함..

비즈니스로직은 잘 변하게 하지않고, 사용자 인터페이스는 변경이 잦은데, 이를 한꺼번에 모아놓으면 사용자 인터페이스를 수정하기 위해 비즈니스 로직도 수정해야 한다.

- 변경이 잦은 부분과 드문 부분을 분리



#### 성급하게 결정된 실행 순서

- 설계 시점에서 입/출력까지 고려하게 한다.

하향식은 시스템이 무엇을 구현하는지가 아닌 어떻게 구할것인지 생각하게 한다.

```
직원의 급여를 구하려면 어떤 작업이 필요한가? 소득세율을 입력받는 작업과 급여를 계산하는 작업, 계산된 결과를 화면에 출력하는 작업이 필요하다.
```



#### 데이터 변경으로 인한 파급효과

데이터가 변경되었을때, 그 변경에 영향을 받는 걸 분리하지 않으면 사람의 실수를 유발한다.

- 그래서 변경되는 부분과 아닌 부분을 분리한다.



### 언제 하향식 분해가 유용한가?

하향식 분해는 이미 증명된 수학이론이나 완료된 설계에 대해 서술할 때 유용하다.



## 03 모듈

### 정보 은닉과 모듈

변경될 가능성이 있는 부분은 모듈로 나눈다.(java에서는 package)



### 모듈의 장점과 한계

모듈화는 응집도, 결합도의 장점을 갖지만 추상화 관점에서는 단점을 갖는다.(추상화 되지 않아서 복잡하다???)

```
모듈 내부의 변수가 변경되더라도 모듈 내부에만 영향을 미친다.
비즈니스 로직과 사용자 인터페이스에 대한 관심사를 분리한다.
전역 변수와 전역 함수를 제거함으로써 네임스페이스 오염을 방지한다.
```



Employees 각 Employee에 대한 정보를 가져오기 힘들다. 그래서 각 개별 직원에 대한 추상화가 필요하다.

모듈을 Employee로 만들면 안될까?

모듈은 데이터 중심으로 설계 되어있다. 데이터와 그것들을 조작하는 함수를 포함한다.

데이터가 employees의 이름 , 월급, 시간제 여부....



## 04 데이터 추상화와 추상 데이터 타입

### 추상데이터 타입

사용자는 기능을 모아 프로시저를 추상화하는 걸로는....???>???



## 05 클래스

### 클래스는 추상 데이터 타입인가?

추상데이터 타입: 오퍼레이션 기준으로 타입을 추상화 (groupByOperation)

클래스: 타입을 기준으로 절차를 추상화 (groupByType)



### 추상데이터 타입에서 클래스로 변경하기

공통기능은 부모클래스로 묶고, 타입별 기능은 자식클래스에서 구현하도록 한다.



### 변경을 기준으로 선택하라

(각각 무슨 소리하는거지??)

타입이 자주 추가된다. - 객체지향

오퍼레이션이 추가된다. - 추상 데이터 타입



### 협력이 중요하다

